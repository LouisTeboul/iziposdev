<md-content class="IZIPASSTemplate" ng-controller="IZIPASSController" ng-init="init()" layout="column" ng-cloak>


    <div class="subCategoriesHeading-large"
         ng-if="subCategories && subCategories.length > 0"
         layout="row" layout-align="center center" layout-wrap>

        <md-button aria-label="NavigAttr"
                   class="md-raised navigAction scHeadingButton"
                   ng-click="scrollTo('Main')">{{category.Name | Truncate:16}}
        </md-button>
        <md-button aria-label="NavigAttr"
                   ng-repeat="subCat in subCategories track by $index"
                   ng-if="subCat.products && subCat.products.length >0"
                   class="md-raised navigAction scHeadingButton"
                   ng-click="scrollTo(subCat.Id)">{{subCat.Name | Truncate:16}}
        </md-button>
        <md-button aria-label="NavigAttr"
                   ng-repeat="ssCat in subSubCategories track by $index"
                   ng-if="ssCat.products && ssCat.products.length >0"
                   class="md-raised navigAction scHeadingButton"
                   ng-click="scrollTo(ssCat.Id)">{{ssCat.Name | Truncate:16}}
        </md-button>
    </div>


    <md-content id="allCategories" layout="column" style="padding: 3px;">
        <div id="cMain">
            <h1>{{category.Name}}</h1>

            <div layout="row" layout-wrap>
                <div ng-repeat="product in products track by $index" style="margin-bottom:4px">
                    <md-button class="productboxIZIPASS" md-no-ink ng-click="addToCart(product)" layout-fill>
                        <div layout="column" layout-fill>

                            <div class="titleRow">
                                {{product.Name}}
                            </div>

                            <span flex></span>

                            <div class="descriptionRow" layout="row">
                                <img alt="" ng-src="{{product.DefaultPictureUrl}}" class="image">
                                <span flex></span>
                                <div class="price" ng-if="product.Price">
                                    {{product.Price | CurrencyFormat}}
                                </div>
                            </div>

                            <div>
                                <div class="action" title="Ajouter au panier"
                                     ng-if="!product.DisableBuyButton && product.ProductAttributes.length == 0 && !product.EmployeeTypePrice">
                            <span class="action-text" translate>
                                Ajouter au ticket
                            </span>
                                </div>
                                <div class="action" title="Choisir produit"
                                     ng-if="!product.DisableBuyButton && product.ProductAttributes.length > 0 && !product.EmployeeTypePrice">
                            <span class="action-text" translate>
                                Choisir produit
                            </span>
                                </div>
                                <div class="action" title="Saisir le prix"
                                     ng-if="!product.DisableBuyButton && product.ProductAttributes.length == 0 && product.EmployeeTypePrice">
                            <span class="action-text" translate>
                                Saisir le prix
                            </span>
                                </div>
                                <div class="action disabled " title="Rupture" ng-if="product.DisableBuyButton">
                            <span class="action-text " translate>
                                Rupture
                            </span>
                                </div>
                            </div>
                        </div>
                    </md-button>
                </div>
            </div>
        </div>

        <div ng-repeat="subCat in subCategories track by $index"
             ng-if="subCat.products && subCat.products.length >0"
             class="subCategory"
             id="c{{subCat.Id}}">
            <h2>{{subCat.Name}}</h2>
            <div layout="row" layout-wrap>
                <div ng-repeat="product in subCat.products">
                    <md-button class="productboxIZIPASS" md-no-ink ng-click="addToCart(product)" layout-fill>
                        <div layout="column" layout-fill>

                            <div class="titleRow">
                                {{product.Name}}
                            </div>

                            <span flex></span>

                            <div class="descriptionRow" layout="row">
                                <img alt="" ng-src="{{product.DefaultPictureUrl}}" class="image">
                                <span flex></span>
                                <div class="price" ng-if="product.Price">
                                    {{product.Price | CurrencyFormat}}
                                </div>
                            </div>

                            <div>
                                <div class="action" title="Ajouter au panier"
                                     ng-if="!product.DisableBuyButton && product.ProductAttributes.length == 0 && !product.EmployeeTypePrice">
                            <span class="action-text" translate>
                                Ajouter au ticket
                            </span>
                                </div>
                                <div class="action" title="Choisir produit"
                                     ng-if="!product.DisableBuyButton && product.ProductAttributes.length > 0 && !product.EmployeeTypePrice">
                            <span class="action-text" translate>
                                Choisir produit
                            </span>
                                </div>
                                <div class="action" title="Saisir le prix"
                                     ng-if="!product.DisableBuyButton && product.ProductAttributes.length == 0 && product.EmployeeTypePrice">
                            <span class="action-text" translate>
                                Saisir le prix
                            </span>
                                </div>
                                <div class="action disabled " title="Rupture" ng-if="product.DisableBuyButton">
                            <span class="action-text " translate>
                                Rupture
                            </span>
                                </div>
                            </div>
                        </div>
                    </md-button>
                </div>
            </div>

            <div ng-repeat="ssCat in subCat.subCategories track by $index"
                 ng-if="ssCat.products && ssCat.products.length >0"
                 class="subCategory"
                 id="c{{ssCat.Id}}">
                <h2>{{ssCat.Name}}</h2>
                <div layout="row" layout-wrap class="ssCategory">
                    <div ng-repeat="product in ssCat.products">
                        <md-button class="productboxIZIPASS" md-no-ink ng-click="addToCart(product)" layout-fill>
                            <div layout="column" layout-fill>

                                <div class="titleRow">
                                    {{product.Name}}
                                </div>

                                <span flex></span>

                                <div class="descriptionRow" layout="row">
                                    <img alt="" ng-src="{{product.DefaultPictureUrl}}" class="image">
                                    <span flex></span>
                                    <div class="price" ng-if="product.Price">
                                        {{product.Price | CurrencyFormat}}
                                    </div>
                                </div>

                                <div>
                                    <div class="action" title="Ajouter au panier"
                                         ng-if="!product.DisableBuyButton && product.ProductAttributes.length == 0 && !product.EmployeeTypePrice">
                            <span class="action-text" translate>
                                Ajouter au ticket
                            </span>
                                    </div>
                                    <div class="action" title="Choisir produit"
                                         ng-if="!product.DisableBuyButton && product.ProductAttributes.length > 0 && !product.EmployeeTypePrice">
                            <span class="action-text" translate>
                                Choisir produit
                            </span>
                                    </div>
                                    <div class="action" title="Saisir le prix"
                                         ng-if="!product.DisableBuyButton && product.ProductAttributes.length == 0 && product.EmployeeTypePrice">
                            <span class="action-text" translate>
                                Saisir le prix
                            </span>
                                    </div>
                                    <div class="action disabled " title="Rupture" ng-if="product.DisableBuyButton">
                            <span class="action-text " translate>
                                Rupture
                            </span>
                                    </div>
                                </div>
                            </div>
                        </md-button>
                    </div>
                </div>
            </div>


        </div>
    </md-content>

</md-content>
